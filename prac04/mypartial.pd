#N canvas 115 22 668 547 10;
#X obj 22 428 osc~;
#X obj 62 454 *~;
#X obj 144 377 line~;
#X obj 62 476 throw~ sum-bus;
#X obj 144 349 pack 0 10;
#X obj 23 349 pack 0 10;
#X obj 23 374 line~;
#X obj 23 304 tabread4 frqarray;
#X obj 144 304 tabread4 magarray;
#X text 229 174 Because the frqarray and magarray contain all the partials'
data end-to-end \, we use the partial number to offset the point where
we read the table;
#X obj 264 141 r framecount;
#X obj 192 168 * \$1;
#X obj 108 201 +;
#X obj 264 114 r time;
#X obj 340 374 r fscale;
#X obj 22 404 *~;
#X obj 328 323 r fadetime;
#X text 11 6 mypartial.pd;
#X text 10 23 Render a single partial in an additive synthesis system
;
#X text 6 516 2010-02-17 Dan Ellis dpwe@ee.columbia.edu;
#X obj 144 326 *;
#X obj 269 282 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X text 161 477 Send it back to the global audio output summing bus
;
#X msg 218 258 0;
#X msg 188 258 1;
#X obj 264 233 r allon;
#X obj 264 259 r alloff;
#X text 351 113 Signal sets current time in table;
#X text 353 248 Signals to turn all partials on or off;
#X text 352 142 Constant sets size of each block in table;
#X text 400 324 Signal to adjust the interpolation time;
#X text 9 41 Reads values from frqarray and magarray \, defined in
parent \, which consist of many <framecount>-length sequences of control
values. We render just one.;
#X text 10 87 Creation arguments:;
#X text 8 102 \$1: sequence number within data arrays;
#X text 401 379 Signal to scaleto all frequencies;
#X floatatom 289 282 5 0 0 0 - - -;
#X floatatom 204 423 8 0 0 0 - - -;
#X floatatom 324 282 5 0 0 0 - - -;
#X obj 230 445 f;
#X obj 170 445 *;
#X obj 290 445 f;
#X obj 83 236 t b f f;
#X msg 218 400 0;
#X obj 240 356 /;
#X floatatom 60 326 8 0 0 0 - - -;
#X floatatom 187 327 8 0 0 0 - - -;
#X obj 262 445 + 0;
#X obj 202 445 + 0;
#X obj 165 233 r fileread;
#X text 321 423 This code sums the total magnitude;
#X text 322 436 and mag*freq to show averages;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 4 0 2 0;
#X connect 5 0 6 0;
#X connect 6 0 15 0;
#X connect 7 0 5 0;
#X connect 7 0 39 0;
#X connect 7 0 44 0;
#X connect 8 0 20 0;
#X connect 8 0 39 1;
#X connect 8 0 45 0;
#X connect 8 0 46 1;
#X connect 10 0 11 0;
#X connect 11 0 12 1;
#X connect 12 0 41 0;
#X connect 13 0 12 0;
#X connect 14 0 15 1;
#X connect 15 0 0 0;
#X connect 16 0 4 1;
#X connect 16 0 5 1;
#X connect 20 0 4 0;
#X connect 21 0 20 1;
#X connect 23 0 21 0;
#X connect 24 0 21 0;
#X connect 25 0 24 0;
#X connect 26 0 23 0;
#X connect 36 0 43 0;
#X connect 36 0 47 0;
#X connect 37 0 43 1;
#X connect 37 0 46 0;
#X connect 38 0 36 0;
#X connect 39 0 47 1;
#X connect 40 0 37 0;
#X connect 41 0 38 0;
#X connect 41 0 40 0;
#X connect 41 1 7 0;
#X connect 41 2 8 0;
#X connect 42 0 36 0;
#X connect 42 0 37 0;
#X connect 43 0 35 0;
#X connect 46 0 40 1;
#X connect 47 0 38 1;
#X connect 48 0 24 0;
#X connect 48 0 42 0;
#X coords 0 -1 1 1 180 20 1 185 280;
